{
  "name": "ì¹´í†¡ë´‡ API -  Youtube Summarization Bot",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "summarize-yt",
        "authentication": "headerAuth",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -128,
        -32
      ],
      "id": "b136f5c6-25bf-4c4e-9c54-92a0b9a4bced",
      "name": "Webhook",
      "webhookId": "70157ed0-7b5f-4cb8-9315-1e4491c3e3cc",
      "credentials": {
        "httpHeaderAuth": {
          "id": "6F4mRvr7PitbK2EF",
          "name": "My Test Header Auth"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "google/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "google/gemini-2.5-flash"
        },
        "options": {}
      },
      "id": "ebc4228c-dfe8-4441-8635-63d5ab739716",
      "name": "OpenAI GPT Summary Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        1232,
        96
      ],
      "typeVersion": 1.2,
      "credentials": {
        "openAiApi": {
          "id": "kfHWoZ2KMTrQr52Z",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ë‹¹ì‹ ì€ â€œYouTube Video Summarizerâ€ì…ë‹ˆë‹¤.  \nì•„ë˜ì— ì œê³µëœ ìœ íŠœë¸Œ ì˜ìƒ ìë§‰ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬, í•™ìŠµìš©ìœ¼ë¡œ êµ¬ì¡°í™”ëœ ìš”ì•½ì„ ìƒì„±í•˜ì„¸ìš”.  \në‹¨ìˆœí•œ ìš”ì•½ì´ ì•„ë‹ˆë¼, êµìœ¡ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ **ë…¼ë¦¬ì ì´ê³  í†µì°°ì ì¸ ë¶„ì„ ìš”ì•½ë¬¸**ì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.  \n\n--------\n\n### ğŸ¯ ì‘ì—… ëª©í‘œ\n- ì£¼ì–´ì§„ ìë§‰ì„ ê¸°ë°˜ìœ¼ë¡œ **í•µì‹¬ ì£¼ì œ**, **í•µì‹¬ ê°œë…**, **ìˆ«ì ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸**, **íƒêµ¬í˜• ì§ˆë¬¸**ì„ í¬í•¨í•œ ì™„ì „í•œ ìš”ì•½ë¬¸ì„ ì‘ì„±í•©ë‹ˆë‹¤.  \n- ìë§‰ì˜ ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ê³ , ë‚´ìš©ì„ ì¬êµ¬ì„±í•˜ê³  í•´ì„í•´ì•¼ í•©ë‹ˆë‹¤.  \n- ì‘ì„± ê²°ê³¼ëŠ” Markdown í˜•ì‹ìœ¼ë¡œ ì•„ë˜ í…œí”Œë¦¿ì— ë”°ë¼ ì¶œë ¥í•˜ì„¸ìš”.\n\n--------\n\n### âš–ï¸ ì„¸ë¶€ì§€ì¹¨\n- ìë§‰ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ê³ , ë°˜ë“œì‹œ í•´ì„ê³¼ ìš”ì•½ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  \n- ìë§‰ ì™¸ì˜ ì •ë³´ë¥¼ ì„ì˜ë¡œ ì¶”ê°€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  \n- ë¹„ìœ¤ë¦¬ì ì´ê±°ë‚˜ ì €ì‘ê¶Œì´ ì œí•œëœ ë‚´ìš©ì€ ì²˜ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- direct linkì˜ í˜•ì‹ì€ ë‹¤ìŒ í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤. íƒ€ì„ìŠ¤í…œí”„ëŠ” ìë§‰ì˜ ì •ë³´ë¥¼ í™œìš©í•´ì„œ ì´ˆë‹¨ìœ„ë¡œ 000s í˜•ì‹ìœ¼ë¡œ ê¸°ì…í•©ë‹ˆë‹¤. \n  ex) https://www.youtube.com/watch?v={{$json.videoID}}&t=11s\n- ì „ì²´ì¬ìƒì‹œê°„(total_playback_time)ê³¼ ì¬ìƒêµ¬ê°„(time_interval)ì˜ ì‹œê°„ í¬ë§¤íŒ…ì€ [mm:ss]ìœ¼ë¡œ í‘œê¸°í•œë‹¤.\n- ì „ì²´ìš”ì•½ì€ ë‹¤ìŒ í¬ì¸íŠ¸ë¥¼ ì¤‘ì ìœ¼ë¡œ ê¸°ìˆ í•©ë‹ˆë‹¤.\n  1) í•µì‹¬ ì£¼ì œ: ì˜ìƒì˜ ì£¼ìš” ì•„ì´ë””ì–´ë¥¼ ìš”ì•½í•©ë‹ˆë‹¤.\n  2) í•µì‹¬ ë‚´ìš©: ê°€ì¥ ì¤‘ìš”í•œ ì£¼ì¥, ê°œë…, ì˜ˆì‹œ, ì‚¬ë¡€ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.\n  3) ë…¼ë¦¬ ì „ê°œ: ì˜ìƒì´ ì–´ë–¤ ë…¼ë¦¬ë‚˜ ê·¼ê±°ë¥¼ í†µí•´ ê²°ë¡ ì— ë„ë‹¬í•˜ëŠ”ì§€ ìš”ì•½í•©ë‹ˆë‹¤.\n  4) ë§¥ë½ ì—°ê²°: ê´€ë ¨ ë°°ê²½, ì¸ìš©, ê°œë…ì  í™•ì¥ ë“±ì„ ê¸°ìˆ í•©ë‹ˆë‹¤.\n- ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ëŠ” ì˜ìƒì—ì„œ ì–¸ê¸‰ëœ ìˆ˜ì¹˜, ë¹„ìœ¨, í†µê³„, ì—°ë„ ë“±ì„ ì°¾ì•„ ê·¸ ìˆ˜ì¹˜ê°€ ì˜ë¯¸í•˜ëŠ” ë°”ë¥¼ í•´ì„í•©ë‹ˆë‹¤.  \n  ex) â€œì „ ì„¸ê³„ 60%ì˜ ì‚¬ìš©ìê°€ ~í•œë‹¤ â†’ íŠ¸ë Œë“œì˜ ì „í™˜ì ì„ì„ ì‹œì‚¬â€\n- íƒêµ¬í˜• ì§ˆë¬¸ëŠ” ë‹¤ìŒ ê´€ì ì—ì„œ ì„ ì •í•´ì„œ ìƒì„±í•©ë‹ˆë‹¤.\n  1) ì˜ìƒì˜ í•µì‹¬ ì£¼ì¥ì— ëŒ€í•œ ë¹„íŒì  ì‚¬ê³ ë¥¼ ìœ ë„í•˜ëŠ” ì§ˆë¬¸  \n  2) ì£¼ì œë¥¼ ë‹¤ë¥¸ ë§¥ë½ì´ë‚˜ ë¶„ì•¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ì§ˆë¬¸  \n  3) ì‹¤ì œ ì ìš©ì´ë‚˜ í•œê³„ë¥¼ íƒêµ¬í•  ìˆ˜ ìˆëŠ” ì§ˆë¬¸  \n\n--------\n\n## ğŸ“„ ì¶œë ¥ í˜•ì‹ (ìš”ì•½ í…œí”Œë¦¿)\nì•„ë˜ í˜•ì‹ì— ë§ì¶° êµ¬ê°„ë³„ ìš”ì•½ì„ ì§„í–‰í•˜ë©°, ìš”ì•½í•˜ëŠ” ë°©ì‹ì€ ìš”ì•½ ì„¹ì…˜ì˜ ê°€ì´ë“œì— ë§ì¶°ì§„í–‰í•©ë‹ˆë‹¤.\n\n---\n1. ì œëª© : { title }\n3. ì „ì²´ ì¬ìƒì‹œê°„ : { total_playback_time }\n2. ì „ì²´ìš”ì•½\n  { total_summary }\n \n3. êµ¬ê°„ë³„ ìš”ì•½\n - êµ¬ê°„1: {interval1_title}  (â±ï¸{time_interval1})\n {interval1_concise_summary}\n [ë°”ë¡œê°€ê¸°] {direct_url_link1}\n \n - êµ¬ê°„2: {interval2_title}  (â±ï¸{time_interval2})\n {interval2_concise_summary}\n [ë°”ë¡œê°€ê¸°] {direct_url_link2}\n\n - êµ¬ê°„3: {interval3_title}  (â±ï¸{time_interval3})\n {interval3_concise_summary}\n [ë°”ë¡œê°€ê¸°] {direct_url_link3}\n  ...\n\n--------\n\n### ì¶œë ¥ ì˜ˆì‹œ\n\n1. ì œëª©:\nìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ ëŒ€ê°œí¸ ë…¼ë€: ì¶”ì²œ ì‹œìŠ¤í…œì˜ ë³€í™”ì™€ ì°½ì‘ì ìˆ˜ìµ êµ¬ì¡°, ê°œì„  ì˜ˆê³ ì˜ ë¶ˆíˆ¬ëª…ì„±\n\n2. ì „ì²´ ì¬ìƒì‹œê°„: [03:45]\n\n3. ì „ì²´ìš”ì•½\n\nğŸ¯ í•µì‹¬ ì£¼ì œ: ìœ íŠœë¸Œì˜ ì•Œê³ ë¦¬ì¦˜ ëŒ€ê°œí¸ì´ ì´ˆë˜í•œ ì¶”ì²œ ë¶ˆê· í˜•, ìˆ˜ìµ êµ¬ì¡°ì˜ í¸í–¥, ì°½ì‘ì ì‹ ë¢° ìœ„ê¸°\nğŸ’¡ í•µì‹¬ ë‚´ìš©\n - ì‹œì²­ ì§€ì†ì‹œê°„ ì¤‘ì‹¬ì˜ ì•Œê³ ë¦¬ì¦˜ ë³€ê²½ â†’ ì‡¼ì¸ (Shorts) ìš°ëŒ€ í˜„ìƒ\n - ì¥ê¸° ì½˜í…ì¸  ì°½ì‘ìë“¤ì˜ ë…¸ì¶œ ê°ì†Œ ë° ìˆ˜ìµ í•˜ë½\n - ê´‘ê³  íš¨ìœ¨ ì¤‘ì‹¬ ì •ì±…ìœ¼ë¡œ ì½˜í…ì¸  ë‹¤ì–‘ì„± ì•½í™”\n - ì»¤ë®¤ë‹ˆí‹°ì˜ ë¶ˆì‹  ë° íˆ¬ëª…ì„± ìš”êµ¬ í™•ì‚°\n - ìœ íŠœë¸Œ ì¸¡ì˜ ê°œì„  ì•½ì†ì€ ìˆì—ˆì§€ë§Œ êµ¬ì²´ì  ì‹œê¸° ë¯¸ì •\n\nğŸ” ë…¼ë¦¬ ì „ê°œ\n - í”Œë«í¼ì˜ ê¸°ìˆ ì  ì˜ë„(ì‹œì²­ íš¨ìœ¨ í–¥ìƒ)ì™€ ì‹¤ì œ ê²°ê³¼(ì½˜í…ì¸  ë‹¤ì–‘ì„± ì•½í™”) ì‚¬ì´ì˜ ê´´ë¦¬ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì„œìˆ .\nì°½ì‘ìë“¤ì˜ ë°˜ë°œ â†’ ì»¤ë®¤ë‹ˆí‹° ì—¬ë¡  â†’ í”Œë«í¼ì˜ ëŒ€ì‘ íë¦„ ìˆœìœ¼ë¡œ ë…¼ë¦¬ ì „ê°œ.\n\nğŸ§© ë§¥ë½ ì—°ê²°\n - ì•Œê³ ë¦¬ì¦˜ ì˜ì¡´í˜• í”Œë«í¼ì˜ ë³¸ì§ˆì  í•œê³„ì™€ ì°½ì‘ ìƒíƒœê³„ ë¶ˆê· í˜• ë¬¸ì œë¥¼ ë³´ì—¬ì¤Œ.\n - ê´‘ê³  ì¤‘ì‹¬ ëª¨ë¸ì´ ì°½ì‘ì ë‹¤ì–‘ì„±ê³¼ í’ˆì§ˆ ìœ ì§€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì‹œì‚¬.\n - í–¥í›„ â€˜í”Œë«í¼ ì±…ì„ì„±â€™ ë…¼ì˜ì˜ ì£¼ìš” ì‚¬ë¡€ë¡œ ë‚¨ì„ ê°€ëŠ¥ì„±ì„ ê°•ì¡°.\n\nğŸ”¢ ìˆ«ì ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸\n - ì•Œê³ ë¦¬ì¦˜ ë³€ê²½ ì´í›„ ì¥ê¸° ì˜ìƒ í‰ê·  ë…¸ì¶œë¥  35% ê°ì†Œ,\n - ì‡¼ì¸  í‰ê·  ê´‘ê³  ìˆ˜ìµë¥  1.7ë°° ì¦ê°€ë¼ëŠ” ìˆ˜ì¹˜ê°€ ì œì‹œë¨.\n - â€œê°œì„  ì¤‘â€ì´ë¼ëŠ” ê³µì‹ ì…ì¥ì€ ë°œí‘œë˜ì—ˆìœ¼ë‚˜ ì¼ì • ë¯¸ê³µê°œ â†’ íˆ¬ëª…ì„± ë¶€ì¬ ë¬¸ì œë¡œ ì»¤ë®¤ë‹ˆí‹° ë¶ˆë§Œì´ ì§€ì†.\n - ì°½ì‘ì ì´íƒˆë¥  ì¦ê°€(ìµœê·¼ 3ê°œì›”ê°„ ì‹ ê·œ ì—…ë¡œë“œ ê°ì†Œìœ¨ 22%) â†’ ìƒíƒœê³„ ê±´ê°•ì„± ì•½í™”ë¡œ í•´ì„ ê°€ëŠ¥.\n\nğŸ§  íƒêµ¬í˜• ì§ˆë¬¸\n - E1: ì•Œê³ ë¦¬ì¦˜ì˜ ë³€í™”ê°€ ì°½ì‘ì ìˆ˜ìµ êµ¬ì¡°ì— ë¯¸ì¹œ ì˜í–¥ì„ ì–´ë–»ê²Œ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•  ìˆ˜ ìˆì„ê¹Œìš”?\nê·¸ë¦¬ê³  ê³µì •í•œ ë…¸ì¶œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë°ì´í„° ê³µê°œ ìˆ˜ì¤€ì€ ì–´ëŠ ì •ë„ì—¬ì•¼ í• ê¹Œìš”?\n - E2: í”Œë«í¼ì˜ ì•Œê³ ë¦¬ì¦˜ íˆ¬ëª…ì„±ì„ ê°•í™”í•˜ë©´ì„œë„ ì•…ìš©(ì˜ˆ: í´ë¦­ ìœ ë„ ì½˜í…ì¸ )ì„ ë°©ì§€í•˜ê¸° ìœ„í•œ\nì„¤ê³„ì  ê· í˜•ì€ ì–´ë–»ê²Œ í™•ë³´í•  ìˆ˜ ìˆì„ê¹Œìš”?\n- E3: ì¥ê¸° ì½˜í…ì¸ ì˜ ê²½ìŸë ¥ íšŒë³µì„ ìœ„í•´ ìœ íŠœë¸ŒëŠ” ì–´ë–¤ ì „ëµì  ë³´ì™„ì±…(ì˜ˆ: ë¶„ë¦¬ëœ ì¶”ì²œ íƒ­, ê°€ì¤‘ì¹˜ ì¡°ì •)ì„\nì‹œë„í•  ìˆ˜ ìˆì„ê¹Œìš”?\n\n4. êµ¬ê°„ë³„ ìš”ì•½\n - êµ¬ê°„1: ì•Œê³ ë¦¬ì¦˜ ë³€ê²½ì˜ í•µì‹¬ê³¼ ì´ˆê¸° ë°˜ì‘ (â±ï¸[00:01â€“01:20])\nìƒˆë¡œìš´ ì¶”ì²œ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìì˜ ì‹œì²­ì‹œê°„ê³¼ í´ë¦­ ìœ ì§€ìœ¨ì„ í•µì‹¬ ì§€í‘œë¡œ ì‚¼ë„ë¡ ê°œí¸ë˜ì—ˆìŠµë‹ˆë‹¤.\nê·¸ ê²°ê³¼ ì§§ì€ ì˜ìƒ(Shorts) ì½˜í…ì¸ ê°€ ê¸‰ê²©íˆ ìƒìœ„ ë…¸ì¶œë˜ì—ˆê³ ,\nì¥ì‹œê°„ ì½˜í…ì¸ ë¥¼ ì œì‘í•˜ë˜ êµìœ¡Â·ë‹¤í ì±„ë„ì˜ ë…¸ì¶œ ë¹ˆë„ê°€ ê¸‰ê°í–ˆìŠµë‹ˆë‹¤.\nì¼ë¶€ ì°½ì‘ìëŠ” ê¸°ì¡´ êµ¬ë…ìì—ê²Œì¡°ì°¨ ì½˜í…ì¸ ê°€ ë„ë‹¬í•˜ì§€ ì•ŠëŠ” í˜„ìƒì„ í˜¸ì†Œí–ˆìŠµë‹ˆë‹¤.\n[ë°”ë¡œê°€ê¸°] https://www.youtube.com/watch?v={{ $json.videoID }}&t=80s\n\n - êµ¬ê°„2: ê´‘ê³  ë° ìˆ˜ìµ êµ¬ì¡°ì˜ ë¬¸ì œì™€ ì»¤ë®¤ë‹ˆí‹° ë°˜ë°œ (â±ï¸[01:21â€“02:50])\n...\n[ë°”ë¡œê°€ê¸°] https://www.youtube.com/watch?v={{ $json.videoID }}&t=170s\n\n - êµ¬ê°„3: í”Œë«í¼ ëŒ€ì‘ê³¼ ê°œì„  ì˜ˆê³ , ê·¸ëŸ¬ë‚˜ ë¶ˆíˆ¬ëª…í•œ ì¼ì • (â±ï¸[02:51â€“03:45])\n...\n[ë°”ë¡œê°€ê¸°] https://www.youtube.com/watch?v={{ $json.videoID }}&t=171s\n\n\n--------\n\n## ğŸ§¾ ì…ë ¥ ë°ì´í„° (ìë§‰)\n\në‹¤ìŒì€ ë¶„ì„í•´ì•¼ í•  ìœ íŠœë¸Œ ì˜ìƒ ìë§‰ì…ë‹ˆë‹¤.  \nì´ ìë§‰ì„ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì˜ í˜•ì‹ì— ë”°ë¼ ìš”ì•½ì„ ì‘ì„±í•˜ì„¸ìš”.\n\n{{ $json.data.toJsonString() }}\n\n\n",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1216,
        -128
      ],
      "id": "503fc5ff-1743-44e8-8919-3cbcff5c9360",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "mode": "combineBySql",
        "query": "SELECT input1.*, input2.* FROM input1 LEFT JOIN input2 ON input1.name = input2.id",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        992,
        -128
      ],
      "id": "8cab0548-daca-40ac-be82-e6665cca5cac",
      "name": "Merge"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"summary\": \"....\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1360,
        96
      ],
      "id": "d7eafd1d-fa41-4899-ad17-20345d0cf004",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/videos",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "snippet"
            },
            {
              "name": "id",
              "value": "={{ $('Webhook').item.json.body.videoID }}"
            },
            {
              "name": "key",
              "value": "AIzaSyAG1SDMCEWv-kaphCAVbHhHZP5kXdXZf_w"
            }
          ]
        },
        "options": {}
      },
      "id": "dfa114b9-6753-48e6-83b7-f1448fa2413f",
      "name": "Fetch Video Details",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        544,
        -224
      ],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "hJro5bMtUr0ILG45",
          "mode": "list",
          "cachedResultName": "youtube-summary",
          "cachedResultUrl": "/projects/YJYOSJbzRwOJAV60/datatables/hJro5bMtUr0ILG45"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "summary": "={{ $json.summary }}",
            "videoID": "={{ $('Webhook').item.json.body.videoID }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "summary",
              "displayName": "summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "videoID",
              "displayName": "videoID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        1792,
        -224
      ],
      "id": "b043d129-2fc7-4d38-b42c-b39fb6027bac",
      "name": "Insert row"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b390af71-e7d5-4b7d-8bf3-13f7740737a4",
              "leftValue": "={{ $json }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "empty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        320,
        -32
      ],
      "id": "e86c4bf6-4813-4194-ba6f-3910bf514fe6",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "hJro5bMtUr0ILG45",
          "mode": "list",
          "cachedResultName": "youtube-summary",
          "cachedResultUrl": "/projects/YJYOSJbzRwOJAV60/datatables/hJro5bMtUr0ILG45"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "videoID",
              "keyValue": "={{ $json.body.videoID }}"
            }
          ]
        },
        "returnAll": true
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        96,
        -32
      ],
      "id": "b4e13704-4f93-4e1b-8c15-0360133e9626",
      "name": "Get row(s)",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.apify.com/v2/acts/faVsWy9VTSNVIhWpR/run-sync-get-dataset-items",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "apifyApi",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "videoUrl",
              "value": "=https://www.youtube.com/watch?v={{ $('Webhook').item.json.body.videoID }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        768,
        -32
      ],
      "id": "22aa2e90-ef2b-410f-94e7-b78144ba90ff",
      "name": "APIFY RUN",
      "credentials": {
        "httpQueryAuth": {
          "id": "rNuuujzJ4suSSJws",
          "name": "apify Query Auth account"
        },
        "apifyApi": {
          "id": "bvZhYD8peuzfpKDX",
          "name": "Apify account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "e0c2bcaa-fb75-47da-89e0-894ef8b96142",
              "name": "title",
              "value": "={{ $json.items[0].snippet.title }}",
              "type": "string"
            },
            {
              "id": "870c4cf3-f220-432a-a300-830a1349bae1",
              "name": "description",
              "value": "={{ $json.items[0].snippet.description }}",
              "type": "string"
            },
            {
              "id": "c856e1cc-482c-4178-901a-2c700c0884f5",
              "name": "thumbnail",
              "value": "={{ $json.items[0].snippet.thumbnails.default.url }}",
              "type": "string"
            },
            {
              "id": "a5d393c6-03aa-4d3b-b9f3-f5ff90b88e51",
              "name": "videoID",
              "value": "={{ $json.items[0].id }}",
              "type": "string"
            },
            {
              "id": "bd8c6873-c6a9-4666-a887-a71d18cac52d",
              "name": "tags",
              "value": "={{ $json.items[0].snippet.tags }}",
              "type": "array"
            },
            {
              "id": "49ab9c26-a3ca-4d41-bb18-ccc8275fb333",
              "name": "channelTitle",
              "value": "={{ $json.items[0].snippet.channelTitle }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        768,
        -224
      ],
      "id": "2afbc5e6-31f4-4a33-9339-9b0e169ce0b9",
      "name": "Set Variables"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3d9ce442-b968-412a-a7b8-79f7ea5aa053",
              "name": "summary",
              "value": "={{ $json.output.summary }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1568,
        -128
      ],
      "id": "991da28a-5274-4e09-acf3-56a4b5ab65fc",
      "name": "Set Summary"
    },
    {
      "parameters": {
        "enableResponseOutput": true,
        "options": {
          "responseCode": 200
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1792,
        -32
      ],
      "id": "f4e73dd3-db06-4c20-a3a8-3bc2f7d3f9ec",
      "name": "Respond to Webhook"
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Get row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI GPT Summary Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Set Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Video Details": {
      "main": [
        [
          {
            "node": "Set Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Fetch Video Details",
            "type": "main",
            "index": 0
          },
          {
            "node": "APIFY RUN",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "APIFY RUN": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Set Variables": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Summary": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          },
          {
            "node": "Insert row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c7e9a95f-77a1-4aec-bbc1-174086a914ce",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "e3fdaaf60e2c627d3c0a8ba075e3815e24ea9d8307dd24a904e5c8d8daa0cf76"
  },
  "id": "sCNbeDfvwmsr02nd",
  "tags": []
}